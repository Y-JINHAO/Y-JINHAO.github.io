"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(r="Object"===r&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,a=new Array(e);r<e;r++)a[r]=t[r];return a}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],a=!0,n=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(a=(o=s.next()).done)&&(r.push(o.value),!e||r.length!==e);a=!0);}catch(t){n=!0,i=t}finally{try{a||null==s.return||s.return()}finally{if(n)throw i}}return r}}function _arrayWithHoles(t){if(Array.isArray(t))return t}var elements,PI=Math.PI,sin=Math.sin,cos=Math.cos,random=Math.random,TAU=2*PI,range=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return Array(t).fill(e).map(function(t,e){return t+e})},map=function(t,e,r,a,n){return a+(t-e)/(r-e)*(n-a)},polar=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,r=_slicedToArray(2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],2),a=r[0],r=r[1],r=void 0===r?0:r;return[(void 0===a?0:a)+e*cos(t),r+e*sin(t)]},container=d3.select("#container"),setStyle=function(t,e){return Object.entries(e).reduce(function(t,e){var r=_slicedToArray(e,2),e=r[0],r=r[1];return t.style(e,r)},t)},setAttrs=function(t,e){return Object.entries(e).reduce(function(t,e){var r=_slicedToArray(e,2),e=r[0],r=r[1];return t.attr(e,r)},t)},clipCords=range(6).map(function(t){t=map(t,0,6,0,TAU);return polar(t+PI/2,50)}),clipPathD="M".concat([].concat(_toConsumableArray(clipCords),[clipCords[0]]).map(function(t){var e=_slicedToArray(t,2),t=e[0],e=e[1];return"L".concat(t,",").concat(e)}).join("").slice(1)),svgRoot=container.append("svg");setAttrs(svgRoot,{width:"0px",height:"0px"});var defs=svgRoot.append("defs"),clipPath=defs.append("clipPath");setAttrs(clipPath,{id:"clipPath"});var clipPathPath=clipPath.append("path");setAttrs(clipPathPath,{d:clipPathD});var Atom=function(){function r(t,e){_classCallCheck(this,r),this.element=t.append("circle"),setAttrs(this.element,{cx:0,cy:0,r:4,fill:"".concat(e,"88")}),this.seed1=random()*TAU,this.seed2=random()*TAU}return _createClass(r,[{key:"updatePosition",value:function(t){var e=25*sin(this.seed1+t),t=25*sin(this.seed2+t);setAttrs(this.element,{cx:e,cy:t})}}]),r}(),Element=function(){function s(t,e,r,a,n,i){var o=this;_classCallCheck(this,s),this.root=container.append("div"),setStyle(this.root,{width:"5vw",height:"5vw",transform:"translate(".concat(t,"vw, ").concat(e,"vw)"),position:"absolute"}),this.phase=n,this.svg=this.root.append("svg"),setAttrs(this.svg,{viewBox:"0 0 100 100",class:"svg"}),this.group=this.svg.append("g"),setAttrs(this.group,{transform:"translate(50,50)"}),this.border=this.group.append("path"),setAttrs(this.border,{d:clipPathD,fill:"none",stroke:"".concat(i,"88")}),"Solid"===n&&(this.solid=this.group.append("rect"),setAttrs(this.solid,{x:-50,y:18,width:100,height:60,fill:"".concat(i,"88"),style:"clip-path: url(#clipPath)"})),"Liquid"===n&&(this.liquidPathA=this.group.append("path"),setAttrs(this.liquidPathA,{d:"",fill:"".concat(i,"88"),style:"clip-path: url(#clipPath)"}),this.liquidPathB=this.group.append("path"),setAttrs(this.liquidPathB,{d:"",fill:"".concat(i,"44"),style:"clip-path: url(#clipPath)"})),"Gas"===n&&(this.atoms=range(5).map(function(){return new Atom(o.group,i)})),this.name=this.root.append("div").text(r),setAttrs(this.name,{class:"element-name"}),setStyle(this.name,{color:"".concat(i,"88")}),this.number=this.root.append("div").text(a),setAttrs(this.number,{class:"element-number"}),setStyle(this.number,{color:"".concat(i,"88")})}return _createClass(s,[{key:"update",value:function(t,e,r){"Liquid"===this.phase&&this.updateLiquid(e,r),"Gas"===this.phase&&this.updateAtoms(t)}},{key:"updateLiquid",value:function(t,e){setAttrs(this.liquidPathA,{d:t}),setAttrs(this.liquidPathB,{d:e})}},{key:"updateAtoms",value:function(e){this.atoms.forEach(function(t){t.updatePosition(e)})}}]),s}(),categoryColors={"diatomic nonmetal":"#3d7ea6","noble gas":"#bc6ff1","alkali metal":"#f05454","alkaline earth metal":"#ffa36c",metalloid:"#64958f","polyatomic nonmetal":"#8d93ab","post-transition metal":"#c0e218","transition metal":"#fcf876",lanthanide:"#949cdf",actinide:"#16697a"};function createElements(t){elements=t.map(function(t,e){var r=t.category,a=t.symbol,n=t.number,i=t.phase,o=t.xpos,t=t.ypos,r=categoryColors[r]||"#93abd3";return new Element(4.8*o+(t+1)%2*2.5-2,4.5*t-4,a,n,i,r)})}var step=0;function animate(){var r=map(step=(step+1)%100,0,100,0,TAU),t=range(10).map(function(t){var e=map(t,0,10,0,TAU),t=map(t,0,10,-50,50),e=10+4*sin(e+r);return"L".concat(t,",").concat(e)}).join(""),e=range(10).map(function(t){var e=map(t,0,10,0,TAU),t=map(t,0,10,-50,50),e=10+6*sin(e+r+PI);return"L".concat(t,",").concat(e)}).join(""),a="M50,10L50,50L-50,50L-50,10".concat(t),n="M50,10L50,50L-50,50L-50,10".concat(e);elements.forEach(function(t){t.update(r,a,n)}),requestAnimationFrame(animate)}fetch("https://assets.codepen.io/3685267/periodic-table-data.json").then(function(t){return t.json()}).then(function(t){createElements(t.elements),animate()});